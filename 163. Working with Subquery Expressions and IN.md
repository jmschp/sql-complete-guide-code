# 163. Working with Subquery Expressions and IN

## IN comparison function

The `IN()` comparison function returns true if any of the values in the list is equal to the value in the expression. The `NOT IN()` operator works the other way around.

```sql
SELECT 1 IN(1,2) -- TRUE
SELECT 1 IN(2,3) -- FALSE

SELECT 1 NOT IN(1,2) -- FALSE
SELECT 1 NOT IN(2,3) -- TRUE

SELECT *
FROM table_name
WHERE column_1_name IN(value_1, value_2)
```

## IN subquery expression

We can use the `IN()` function with a subquery. The result of the subquery must be exactly one column.

```sql
SELECT *
FROM table_1_name
WHERE column_1_name IN(
  SELECT sub_column_1_name
  FROM table_2_name
)
```

In our use case, with the tables customers and orders, we can check which customers have orders using the `IN()` function.

```sql
SELECT *
FROM customers AS c
WHERE id IN(
  SELECT o.customer_id
  FROM orders AS o
);
```

- [MySQL Comparison Functions and Operators IN](https://dev.mysql.com/doc/refman/8.0/en/comparison-operators.html#operator_in)
- [MySQL Subqueries with ANY, IN, or SOME](https://dev.mysql.com/doc/refman/8.0/en/any-in-some-subqueries.html)
- [PostgreSQL Row and Array Comparisons](https://www.postgresql.org/docs/current/functions-comparisons.html)
- [PostgreSQL Subquery Expressions IN](https://www.postgresql.org/docs/current/functions-subquery.html#FUNCTIONS-SUBQUERY-IN)

_View sql file [08-in-subquery-expressions](./sql/08-in-subquery-expressions.sql) for more details_.
